@{
    ViewData["Title"] = "文章目錄";
}
@model IEnumerable<avamvc.Models.Post>

<h2>文章列表</h2>
@if (User.Identity.IsAuthenticated && User.Identity.Name == "1avalon") {
    <a class="btn btn-primary mb-3" asp-action="Create">新增文章</a>
}

@foreach (var post in Model)
{
    <div class="mb-4">
        <h3>
            <a asp-action="Details" asp-route-id="@post.Id">@post.Title</a>
        </h3>
        <small>發布時間：@post.CreatedAt.ToString("yyyy-MM-dd HH:mm")</small>
        @if (User.Identity.Name == "1avalon") {
                    <a asp-action="Delete" asp-route-id="@post.Id" class="btn btn-danger btn-sm">刪除</a>
                }

        <hr />
    </div>
}
